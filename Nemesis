nemesis = do
  
  clean
    [ "**/*.hi"
    , "**/*.o"
    , "manifest"
    , "Test"
    , "myloli"
    , "pure_hack"
    ]
    
  desc "prepare cabal dist"
  task "dist" $ do
    sh "cabal clean"
    sh "cabal configure"
    sh "cabal sdist"

  desc "start console"
  task "i" (sh "ghci -isrc src/Test.hs")

  desc "put all .hs files in manifest"
  task "manifest" $ do
    sh "find . | grep 'hs$' > manifest"

  task "test" $ do
    sh "ghc --make -isrc src/Test.hs -o Test"
    sh "echo done.."
    sh "./Test"
    
  desc "show sloc"
  task "stat" $ do
    sh "cloc -match-f=hs$ --quiet src --no3"
    

  task "template" $ sh "ghci -isrc src/Network/Loli/Template.hs"
  
  task "loli" $ do
    sh "ghc --make -isrc src/Test/myloli.hs -o myloli"
    sh "echo done.."
    sh "./myloli"
  
  task "pure-hack" $ do
    sh "ghc --make -isrc src/Test/pure_hack.hs -o pure_hack"
    sh "echo done.."
    sh "./pure_hack" 